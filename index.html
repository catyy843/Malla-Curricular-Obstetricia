<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva con Desbloqueo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px 40px;
    background: #f9f9f9;
  }
  h1 {
    text-align: center;
    margin-bottom: 40px;
    color: #004080;
  }
  section.semestre {
    background: white;
    padding: 20px;
    margin-bottom: 30px;
    border-radius: 8px;
    box-shadow: 0 0 10px #ccc;
  }
  section.semestre h2 {
    border-bottom: 2px solid #004080;
    padding-bottom: 6px;
    margin-bottom: 15px;
  }
  ul.materias {
    list-style-type: none;
    padding-left: 0;
  }
  ul.materias li {
    margin-bottom: 10px;
    padding: 8px 12px;
    border-radius: 6px;
    border-left: 5px solid #004080;
    background-color: #e0f0ff;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  ul.materias li.bloqueada {
    background-color: #ccc;
    border-color: #999;
    color: #666;
    cursor: not-allowed;
    opacity: 0.6;
  }
  ul.materias li.activa:hover {
    background-color: #a0d1ff;
  }
  span.abre {
    font-style: italic;
    color: #0066cc;
    margin-left: 8px;
    font-weight: 600;
  }
</style>
</head>
<body>

<h1>Malla Curricular Interactiva - Enfermería</h1>

<section class="semestre" id="semestre1">
  <h2>I Semestre</h2>
  <ul class="materias">
    <li class="activa" data-nombre="Fundamentos de Enfermería I" data-abre="Integración al Desempeño Profesional I">
      Fundamentos de Enfermería I <span class="abre">(Abre Integración al Desempeño Profesional I)</span>
    </li>
    <li class="activa" data-nombre="Química General y Orgánica" data-abre="Bioquímica">
      Química General y Orgánica <span class="abre">(Abre Bioquímica)</span>
    </li>
    <li class="activa" data-nombre="Biología Celular y Genética" data-abre="Histología; Anatomía; Fisiología General; Biología del Desarrollo y Embriología Humana; Bioquímica">
      Biología Celular y Genética <span class="abre">(Abre Histología; Anatomía; Fisiología General; Biología del Desarrollo y Embriología Humana; Bioquímica)</span>
    </li>
    <li class="activa" data-nombre="Matemáticas" data-abre="Investigación en Salud I">
      Matemáticas <span class="abre">(Abre Investigación en Salud I)</span>
    </li>
    <li class="activa" data-nombre="Física" data-abre="Fisiología General; Investigación en Salud I">
      Física <span class="abre">(Abre Fisiología General; Investigación en Salud I)</span>
    </li>
    <li class="activa" data-nombre="Ciencias Sociales y Salud I" data-abre="Ciencias Sociales y Salud II">
      Ciencias Sociales y Salud I <span class="abre">(Abre Ciencias Sociales y Salud II)</span>
    </li>
    <li class="activa" data-nombre="Educación en Salud I" data-abre="Educación en Salud II; Clínica de Salud Comunitaria">
      Educación en Salud I <span class="abre">(Abre Educación en Salud II; Clínica de Salud Comunitaria)</span>
    </li>
    <li class="activa" data-nombre="Inglés I" data-abre="Inglés II">
      Inglés I <span class="abre">(Abre Inglés II)</span>
    </li>
  </ul>
</section>

<section class="semestre" id="semestre2">
  <h2>II Semestre</h2>
  <ul class="materias">
    <li class="bloqueada" data-nombre="Salud Comunitaria I" data-abre="Salud Comunitaria II; Clínica de Salud Comunitaria">
      Salud Comunitaria I <span class="abre">(Abre Salud Comunitaria II; Clínica de Salud Comunitaria)</span>
    </li>
    <li class="bloqueada" data-nombre="Integración al Desempeño Profesional I" data-abre="Neonatología I">
      Integración al Desempeño Profesional I <span class="abre">(Abre Neonatología I)</span>
    </li>
    <li class="bloqueada" data-nombre="Bioquímica" data-abre="Farmacología">
      Bioquímica <span class="abre">(Abre Farmacología)</span>
    </li>
    <li class="bloqueada" data-nombre="Biología del Desarrollo y Embriología Humana" data-abre="Obstetricia Fisiológica I">
      Biología del Desarrollo y Embriología Humana <span class="abre">(Abre Obstetricia Fisiológica I)</span>
    </li>
    <li class="bloqueada" data-nombre="Fisiología General" data-abre="Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Fisiología de Sistemas; Obstetricia Fisiológica I; Inmunología">
      Fisiología General <span class="abre">(Abre Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Fisiología de Sistemas; Obstetricia Fisiológica I; Inmunología)</span>
    </li>
    <li class="bloqueada" data-nombre="Anatomía" data-abre="Ginecología Fisiológica; Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Obstetricia Fisiológica I">
      Anatomía <span class="abre">(Abre Ginecología Fisiológica; Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Obstetricia Fisiológica I)</span>
    </li>
    <li class="bloqueada" data-nombre="Histología" data-abre="Ginecología Fisiológica; Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Obstetricia Fisiológica I">
      Histología <span class="abre">(Abre Ginecología Fisiológica; Fundamentos de Enfermería II; Agentes Vivos de Enfermedad; Neonatología I; Obstetricia Fisiológica I)</span>
    </li>
    <li class="bloqueada" data-nombre="Inglés II" data-abre="Inglés III">
      Inglés II <span class="abre">(Abre Inglés III)</span>
    </li>
  </ul>
</section>

<!-- Puedes seguir agregando más semestres con el mismo formato -->

<script>
  // Función para limpiar texto y comparar
  function limpiarTexto(texto) {
    return texto.trim().toLowerCase();
  }

  // Al hacer click en una materia desbloqueada
  document.querySelectorAll('li.activa').forEach(li => {
    li.addEventListener('click', () => {
      const abreRaw = li.dataset.abre;
      if (!abreRaw) return;

      // Obtengo lista de materias que desbloquea
      const materiasQueAbre = abreRaw.split(';').map(s => limpiarTexto(s));

      materiasQueAbre.forEach(nombreMateria => {
        // Busco todos los <li> que tengan data-nombre igual (ignorando mayúsculas)
        document.querySelectorAll('li').forEach(mat => {
          if (limpiarTexto(mat.dataset.nombre) === nombreMateria) {
            if (mat.classList.contains('bloqueada')) {
              mat.classList.remove('bloqueada');
              mat.classList.add('activa');
              // Le agrego listener para que también pueda desbloquear otras materias
              mat.addEventListener('click', () => {
                mat.click();
              }, { once: true });
            }
          }
        });
      });
    });
  });
</script>

</body>
</html>
